(this["webpackJsonptrivia-react-redux"]=this["webpackJsonptrivia-react-redux"]||[]).push([[0],{31:function(e,t,a){e.exports=a(54)},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t){},45:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=a(7),s=a(13),l=(a(39),a(2)),u=a(16),m=a.n(u),d=a(19),p=a(20),h=a(3),b=a(4),v=a(6),f=a(5),E=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{"data-testid":"settings-title"},"Settings")}}]),a}(r.a.Component),g=(a(41),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).validateInput=function(){var t=e.state,a=t.name,n=t.email,r=/\S+@\S+\.\S+/.test(n),c=a.length>0&&r;e.setState({buttonDisabled:!c})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(p.a)({},n,r),(function(){return e.validateInput()}))},e.submitClick=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,c,o,i,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.history,a.preventDefault(),t.next=4,fetch("https://opentdb.com/api_token.php?command=request").then((function(e){return e.json()}));case 4:r=t.sent,localStorage.setItem("token",r.token),c=e.props.changeEmail,o=e.state,i=o.email,s=o.name,c(i,s),n.push("/game");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={name:"",email:"",buttonDisabled:!0,redirectConfig:!1},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.clearScoreDispatch)()}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.email,c=t.buttonDisabled,o=t.redirectConfig;return r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"riddleImg2"},r.a.createElement("img",{className:" wobble-hor-bottom",src:"https://i.pinimg.com/originals/5e/da/84/5eda849200c4e02d288d91ea2564d944.png",alt:"riddler"})),r.a.createElement("div",{className:"login-main"},r.a.createElement("div",null,r.a.createElement("img",{className:"triviaLogo",src:"https://upload.wikimedia.org/wikipedia/en/thumb/2/27/Trivia.png/799px-Trivia.png?20100329210344",alt:"test"})),o?r.a.createElement(E,null):"",r.a.createElement("label",{htmlFor:"input-player-name"},"NAME:",r.a.createElement("input",{type:"text",id:"input-player-name","data-testid":"input-player-name",value:a,name:"name",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"input-gravatar-email"},"EMAIL:",r.a.createElement("input",{type:"email",id:"input-gravatar-email","data-testid":"input-gravatar-email",value:n,name:"email",onChange:this.handleChange})),r.a.createElement("button",{type:"submit","data-testid":"btn-play",onClick:this.submitClick,disabled:c},"Play"),r.a.createElement("button",{type:"button","data-testid":"btn-settings",onClick:function(){return e.setState({redirectConfig:!0})}},"Configura\xe7\xf5es")),r.a.createElement("div",{className:"riddleImg"},r.a.createElement("img",{className:" wobble-hor-bottom",src:"https://i.pinimg.com/originals/5e/da/84/5eda849200c4e02d288d91ea2564d944.png",alt:"riddler"})))}}]),a}(r.a.Component)),y=Object(i.b)(null,(function(e){return{changeEmail:function(t,a){return e(function(e,t){return{type:"SET_EMAIL",name:t,email:e}}(t,a))},clearScoreDispatch:function(){return e({type:"CLEAR_SCORE"})}}}))(g),O=a(21),j=(a(42),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props.indexQuestion,t={easy:1,medium:2,hard:3},a=this.props,n=a.questions,c=a.responseCode,o=this.props,i=o.showBorder,s=o.changeShowBorder;if(void 0===n||3===c)return"";var l=n[e],u=l.category,m=l.question,d=l.correct_answer,p=l.incorrect_answers,h=l.difficulty,b=r.a.createElement("button",{type:"button","data-testid":"correct-answer",id:"correct-answer",name:t[h],onClick:s,className:i?"correct":"",disabled:i},d),v=p.map((function(e,a){return r.a.createElement("button",{key:a,type:"button","data-testid":"wrong-answer-".concat(a),id:"wrong-answer-".concat(a),name:t[h],onClick:s,className:i?"wrong":"",disabled:i},e)})),f=r.a.createElement("h3",{"data-testid":"question-category"},u),E=r.a.createElement("h3",{"data-testid":"question-text"},m),g=[].concat(Object(O.a)(v),[b]).sort((function(){return Math.random()-.5})).map((function(e,t){return r.a.createElement("div",{key:t,"data-testid":"answer-options"},e)}));return r.a.createElement("div",{className:"questions shadow-pop-tr"},f,E,g)}}]),a}(r.a.Component)),k=Object(i.b)((function(e){return{responseCode:e.gameReducer.responseCode}}),null)(j),S=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentWillUnmount",value:function(){(0,this.props.changeShowBorder)()}},{key:"render",value:function(){var e=this.props.timer;return r.a.createElement("h3",{className:"game-timer heartbeat"},e)}}]),a}(r.a.Component),w=a(27),N=a.n(w),C=(a(45),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getGravatar)(e.email)}},{key:"render",value:function(){var e=this.props,t=e.score,a=e.name,n=e.gravatarEndPoint;return r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h2",{className:"header-player-name","data-testid":"header-player-name"},a),r.a.createElement("img",{src:n,alt:"gravatar","data-testid":"header-profile-picture"})),r.a.createElement("div",null,r.a.createElement("h2",{className:"header-score","data-testid":"header-score"},"Pontua\xe7\xe3o:"," ",t)))}}]),a}(r.a.Component)),x=Object(i.b)((function(e){return{email:e.player.email,score:e.player.score,name:e.player.name,gravatarEndPoint:e.player.gravatarEndPoint}}),(function(e){return{getGravatar:function(t){return e((a=N()(t),{type:"GET_GRAVATAR",payload:"https://www.gravatar.com/avatar/".concat(a)}));var a}}}))(C),I=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props,t=e.changeIndex;return 4===e.indexQuestion?r.a.createElement(s.b,{to:"/feedback"},r.a.createElement("button",{type:"button",className:"game-next-button",onClick:t,"data-testid":"btn-next"},"Pr\xf3xima")):r.a.createElement("button",{type:"button",className:"game-next-button",onClick:t,"data-testid":"btn-next"},"Next")}}]),a}(r.a.Component),P=(a(51),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).receiveAPI=function(){var t=e.props.requestQuestionsDispatch,a=localStorage.getItem("token");t("https://opentdb.com/api.php?amount=5&token=".concat(a))},e.counterTimer=function(){setInterval((function(){e.setState((function(e){return{timer:e.timer-1}}))}),1e3)},e.correctAnswer=function(t){var a=e.state.timer;(0,e.props.receiveNewScore)(10+a*Math.floor(t))},e.changeShowBorder=function(t){var a=t.target;e.setState({showBorder:!0});var n=a.name;"correct-answer"===a.id&&e.correctAnswer(n)},e.changeShowBorderPerTime=function(){e.setState({showBorder:!0})},e.changeIndex=function(){e.setState((function(e){return{showBorder:!1,timer:30,index:e.index<4?e.index+1:0}}))},e.state={timer:30,disabled:!1,showBorder:!1,index:0},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.counterTimer(),this.receiveAPI()}},{key:"render",value:function(){var e=this.props,t=e.responseCode,a=e.questions,n=this.state,c=n.timer,o=n.disabled,i=n.showBorder,s=n.index;if(void 0===a)return"";var u=r.a.createElement(k,{indexQuestion:s,showBorder:i,changeShowBorder:this.changeShowBorder,questions:a,disabled:o});return r.a.createElement("div",{className:"Game"},r.a.createElement(x,null),c>0&&!1===i?r.a.createElement(S,{changeShowBorder:this.changeShowBorderPerTime,timer:c}):"",3===t?r.a.createElement(l.a,{to:"/"}):"",u,i?r.a.createElement(I,{changeIndex:this.changeIndex,indexQuestion:s}):"")}}]),a}(r.a.Component)),A=Object(i.b)((function(e){return{responseCode:e.gameReducer.responseCode,questions:e.gameReducer.questions}}),(function(e){return{requestQuestionsDispatch:function(t){return e(function(e){return function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"QUESTIONS_API"}),t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a({type:"GET_QUESTIONS",questions:(c=r).results,responseCode:c.response_code});case 8:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},receiveNewScore:function(t){return e({type:"RECEIVE_NEW_SCORE",payload:t})}}}))(P),R=(a(52),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getScoreInfo=function(){var t=e.props,a=t.score,n=t.name,r=t.email,c=t.gravatarEndPoint,o=JSON.parse(localStorage.getItem("ranking"))||[];localStorage.setItem("ranking",JSON.stringify([].concat(Object(O.a)(o),[{gravatarEndPoint:c,email:r,name:n,score:a}])))},e.clearScore=function(){(0,e.props.clearScoreDispatch)()},e}return Object(b.a)(a,[{key:"render",value:function(){this.getScoreInfo();var e=this.props,t=e.assertions,a=e.score;return r.a.createElement("div",{className:"feedback-container"},r.a.createElement("div",{className:"feedback-header"},r.a.createElement(x,null)),r.a.createElement("div",{className:"feedback-body"},r.a.createElement("h3",{"data-testid":"feedback-text",className:"feedback-message"},t<3?"Could be better...":"Well Done!"),r.a.createElement("div",{className:"feedback-result"},r.a.createElement("div",{className:"score-container"},r.a.createElement("h3",null,"Score:"),"\xa0",r.a.createElement("h3",{"data-testid":"feedback-total-score",className:"feedback-score"},a)),r.a.createElement("div",{className:"assertions-container"},r.a.createElement("h3",null,"Assertions:"),"\xa0",r.a.createElement("h3",{"data-testid":"feedback-total-question",className:"total"},t))),r.a.createElement("div",{className:"buttons"},r.a.createElement(s.b,{to:"/"},r.a.createElement("button",{type:"button",onClick:this.clearScore,"data-testid":"btn-play-again",className:"btn"},"Play Again")),r.a.createElement(s.b,{to:"/ranking"},r.a.createElement("button",{type:"button","data-testid":"btn-ranking",className:"btn"},"Ranking")))))}}]),a}(r.a.Component)),_=Object(i.b)((function(e){return{assertions:e.player.assertions,score:e.player.score,email:e.player.email,name:e.player.name,gravatarEndPoint:e.player.gravatarEndPoint}}),(function(e){return{clearScoreDispatch:function(){return e({type:"CLEAR_SCORE"})}}}))(R),T=(a(53),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={redirectHome:!1},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state.redirectHome,a=r.a.createElement("button",{"data-testid":"btn-go-home",onClick:function(){return e.setState({redirectHome:!0})},type:"button",className:"btn-go-home"},"Home"),n=(JSON.parse(localStorage.getItem("ranking"))||[]).sort((function(e,t){return t.score-e.score})),c=r.a.createElement("ul",{className:"list-container-ul"},n.map((function(e,t){return r.a.createElement("div",{key:t,className:"list-container"},r.a.createElement("div",{className:"score-name"},r.a.createElement("li",{"data-testid":"player-name-".concat(t),className:"list-item name"},e.name),r.a.createElement("li",{"data-testid":"player-score-".concat(t),className:"list-item score"},e.score)),r.a.createElement("img",{alt:"",src:e.gravatarEndPoint,className:"list-item gravatar"}))})));return r.a.createElement("div",{className:"ranking-container"},r.a.createElement("h3",{"data-testid":"ranking-title",className:"ranking-title"},"Ranking"),t?r.a.createElement(l.a,{to:"/"}):"",r.a.createElement("div",{className:"ranking-main"},c,a))}}]),a}(r.a.Component)),q=Object(i.b)((function(e){return{email:e.player.email,score:e.player.score,name:e.player.name,gravatarEndPoint:e.player.gravatarEndPoint}}),null)(T);function B(){return r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/ranking",component:q}),r.a.createElement(l.b,{exact:!0,path:"/",component:y}),r.a.createElement(l.b,{exact:!0,path:"/game",render:function(e){return r.a.createElement(A,e)}}),r.a.createElement(l.b,{exact:!0,path:"/feedback",component:_}),r.a.createElement(l.b,{exact:!0,path:"/settings",component:E}))}var D=a(15),M=a(29),G=a(30),Q=a(12),L={},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_QUESTIONS":return Object(Q.a)(Object(Q.a)({},e),{},{questions:t.questions,responseCode:t.responseCode});default:return e}},W={name:"",assertions:0,email:"",gravatarEndPoint:"",score:0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GRAVATAR":return Object(Q.a)(Object(Q.a)({},e),{},{gravatarEndPoint:t.payload});case"SET_EMAIL":return Object(Q.a)(Object(Q.a)({},e),{},{name:t.name,email:t.email});case"RECEIVE_NEW_SCORE":return Object(Q.a)(Object(Q.a)({},e),{},{name:e.name,gravatarEmail:e.gravatarEmail,score:e.score+t.payload,assertions:e.assertions+1});case"CLEAR_SCORE":return Object(Q.a)(Object(Q.a)({},e),{},{name:"",email:"",assertions:0,gravatarEndPoint:"",score:0});default:return e}},U=Object(D.combineReducers)({player:H,gameReducer:J}),V=Object(D.legacy_createStore)(U,Object(M.composeWithDevTools)(Object(D.applyMiddleware)(G.a)));window.Cypress&&(window.store=V);var F=V;o.a.render(r.a.createElement(s.a,null,r.a.createElement(i.a,{store:F},r.a.createElement(B,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.7e781ec1.chunk.js.map